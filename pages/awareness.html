
<link rel="stylesheet" href="css/neon.css">

<style>
  
#pokemon-list span.found {
  text-decoration: line-through;
  opacity: 0.5;
}

#Background {
  position: relative;
  width: 100%;
  max-width: 410px;
  aspect-ratio: 1170 / 1690;
  background-image: url("assets/pokemon/Main.png");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  border-radius: 10px;
}

.hit {
  position: absolute;
  cursor: pointer;
}
  
#continueBtn {
       font-family: 'Franklin Gothic Condensed', sans-serif;
       text-align: center;
       margin: 20px auto;
       font-size: 30px;
       padding: 4px 15px;
       cursor: pointer;
       background: #c80000;
       color: #eee;
       border: none;
       border-radius: 5px;
       text-shadow:
           0 0 2px #00ffff,
           0 0 4px #006cffff,
           0 0 6px #576dc9ff,
           0 0 8px #ff00f5ff;
   }

#continueBtn.enabled {
  background: #00c853;
  cursor: none;
}

/* Debug outline for testing */
.hit.debug {
  outline: 2px solid lime;
  outline-offset: -2px;
  background: rgba(0, 255, 0, 0.1); /* optional semi-transparent fill */
}

/* Hitboxes in percentages for scaling */
.bellsprout { left: 42.74%; top: 34.91%; width: 7.69%; height: 7.99%; }
.diglett    { left: 9.23%;  top: 40.53%; width: 5.98%; height: 4.14%; }
.gloom      { left: 14.10%; top: 76.92%; width: 10.26%; height: 5.92%; }
.mewtwo     { left: 0%;     top: 10.53%; width: 9.40%; height: 12.72%; }
.seadra     { left: 72.65%; top: 19.23%; width: 11.11%; height: 8.28%; }

</style>

<h1>Awareness Test</h1>
<main>
<section>
  <h3>Find The Pokemon In Order</h3>
<p id="pokemon-list">
  <span data-name="Bellsprout">Bellsprout</span>,
  <span data-name="Diglett">Diglett</span>,
  <span data-name="Gloom">Gloom</span>,
  <span data-name="Mewtwo">Mewtwo</span>,
  <span data-name="Seadra">Seadra</span>
</p>

  <div id="Background">
    <div class="hit bellsprout" data-name="Bellsprout"></div>
    <div class="hit diglett" data-name="Diglett"></div>
    <div class="hit gloom" data-name="Gloom"></div>
    <div class="hit mewtwo" data-name="Mewtwo"></div>
    <div class="hit seadra" data-name="Seadra"></div>
  </div>
  <button id="continueBtn" disabled> Continue </button>

</section>
<script>
(() => {
  const KEY = "page.awareness.completed";  
  const order = ["Bellsprout", "Diglett", "Gloom", "Mewtwo", "Seadra"];
  let current = 0;

  const continueBtn = document.getElementById("continueBtn");

  document.querySelectorAll(".hit").forEach(hit => {
    hit.addEventListener("click", () => {
      const name = hit.dataset.name;

      // Only allow clicks in the correct order
      if (name !== order[current]) return;

      // ---- STRIKE THROUGH TEXT ----
      const textEl = document.querySelector(`#pokemon-list span[data-name="${name}"]`);
      if (textEl) textEl.classList.add("found");

      // Disable hitbox
      hit.style.pointerEvents = "none";

      // Move to next
      current++;

      // Enable Continue button if all found
      if (current === order.length) {
        continueBtn.disabled = false;
        continueBtn.classList.add("enabled");
      }
    });
  });

  continueBtn.addEventListener("click", () => {
    if (continueBtn.disabled) return;

    // Mark as completed
    localStorage.setItem(KEY, "true");

    // Move to next page
    document.dispatchEvent(new CustomEvent("spa-next-page"));
  });
})();
</script>
</main>


























